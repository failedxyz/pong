<html>
	<head>
		<title>Pong</title>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/phaser/2.4.3/phaser.min.js"></script>
		<style>
			body {
				background: #F0F0F0;
				margin: 0;
				padding: 0;
			}
		</style>
	</head>
	<body>
		<script type="text/javascript">
			var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update, render: render });
			var ring;
			var paddle;
			var cursors;
			var speed = 15;
			function preload() {
				game.load.image("background", "assets/background.jpg");
				game.load.image("circle", "assets/circle.png");
				game.load.image("paddle", "assets/paddle.png");
				game.load.physics("physicsData", "assets/paddle.json");
			}
			function create() {
				game.add.tileSprite(0, 0, 800, 600, "background");
				ring = new Phaser.Circle(game.world.centerX, game.world.centerY, 420);
				cursors = game.input.keyboard.createCursorKeys();
				
				game.physics.startSystem(Phaser.Physics.P2JS);
				game.physics.p2.defaultRestitution = 1;
				
				paddle = game.add.sprite(game.world.centerX, game.world.centerY, "paddle");
				paddle.anchor.set(0.5, 0.5);
				
				game.physics.p2.enable([ paddle ], true);
				paddle.body.clearShapes();
				paddle.body.loadPolygon("physicsData", "paddle");
			}
			function update() {
				game.debug.geom(ring, "#cfffff", false);
				
				if (cursors.left.isDown) {
					paddle.body.rotateRight(speed);
				} else if (cursors.right.isDown) {
					paddle.body.rotateLeft(speed);
				} else {
					paddle.body.rotateLeft(0);
				}
			}
			function render() {
				game.debug.spriteInfo(paddle, 32, 32);
			}
		</script>
	</body>
</html>